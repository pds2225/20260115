# êµ¬í˜„ ê³„ì•½ì„œ v1 vs í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ GAP ë¶„ì„

> **ë¬¸ì„œ ë²„ì „**: v1.0
> **ë¶„ì„ì¼**: 2026-01-28
> **ëª©ì **: ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­ê³¼ í˜„ì¬ êµ¬í˜„ ìƒíƒœì˜ ì°¨ì´ì  ì‹ë³„ ë° ì‹¤í˜„ ê°€ëŠ¥ì„± ê²€ì¦

---

## 1. ì°¨ì´ì  ë¶„ì„ ìš”ì•½

### 1.1 í•µì‹¬ GAP ìš”ì•½í‘œ

| ì˜ì—­ | ê³„ì•½ì„œ v1 ìš”êµ¬ì‚¬í•­ | í˜„ì¬ êµ¬í˜„ | GAP ìˆ˜ì¤€ |
|------|-------------------|-----------|----------|
| **ë°ì´í„° ì†ŒìŠ¤** | DS-01~03 ì‹¤ì œ ê³µê°œ API | í•˜ë“œì½”ë”© 10ê°œêµ­ | ğŸ”´ **Critical** |
| **ì ìˆ˜ ì‚°ì •** | ê³ ì • ê°€ì¤‘í•© (6ê°œ í”¼ì²˜) | ì¤‘ë ¥ëª¨í˜•+XGBoost í•˜ì´ë¸Œë¦¬ë“œ | ğŸŸ  **Major** |
| **API ìŠ¤í‚¤ë§ˆ** | ìƒì„¸ ê·œê²© (request_id, status ë“±) | ë‹¨ìˆœí™”ëœ í˜•ì‹ | ğŸŸ  **Major** |
| **êµ­ê°€ ë²”ìœ„** | ì „ì„¸ê³„ ISO3 (~200ê°œêµ­) | 10ê°œêµ­ í•˜ë“œì½”ë”© | ğŸ”´ **Critical** |
| **HS ì½”ë“œ** | 6ìë¦¬ HS6 | 2ìë¦¬ ì¹´í…Œê³ ë¦¬ | ğŸŸ  **Major** |
| **ì„¤ëª…ê°€ëŠ¥ì„±** | score_components + data_quality | SHAP ê¸°ë°˜ factors | ğŸŸ¡ **Moderate** |
| **ì—ëŸ¬ ì²˜ë¦¬** | ìƒì„¸ ì—ëŸ¬ ì½”ë“œ/í¬ë§· | ê¸°ë³¸ ì—ëŸ¬ë§Œ | ğŸŸ¡ **Moderate** |
| **ë°ì´í„° í’ˆì§ˆ** | ê²°ì¸¡/ì´ìƒê°’ ê·œì¹™ ëª…ì„¸ | ê·œì¹™ ì—†ìŒ | ğŸŸ  **Major** |

---

## 2. ìƒì„¸ ì°¨ì´ì  ë¶„ì„

### 2.1 ë°ì´í„° ì†ŒìŠ¤ (ğŸ”´ Critical Gap)

#### ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­
```
DS-01: UN Comtrade (ë¬´ì—­ì•¡)
  - ì¡°ì¸ í‚¤: (reporter_iso3, partner_iso3, year, hs6)
  - í•„ë“œ: trade_value_usd

DS-02: World Bank Indicators (GDP/ì„±ì¥)
  - ì¡°ì¸ í‚¤: (country_iso3, year, indicator_code)
  - í•„ë“œ: gdp_current_usd, gdp_growth

DS-03: CEPII GeoDist (ê±°ë¦¬/ì¸ì ‘/ì–¸ì–´)
  - ì¡°ì¸ í‚¤: (iso_o, iso_d)
  - í•„ë“œ: distwces, contig, comlang_off
```

#### í˜„ì¬ êµ¬í˜„ (`COUNTRY_DATA`)
```python
# í•˜ë“œì½”ë”©ëœ 10ê°œêµ­ ë°ì´í„°
COUNTRY_DATA = {
    "VNM": {"name": "ë² íŠ¸ë‚¨", "gdp": 366.0, "distance": 2400, "fta": True, ...},
    "USA": {"name": "ë¯¸êµ­", "gdp": 25462.0, "distance": 11000, "fta": True, ...},
    # ... ì´ 10ê°œêµ­
}
```

#### GAP ìƒì„¸
| í•­ëª© | ê³„ì•½ì„œ | í˜„ì¬ |
|------|--------|------|
| êµ­ê°€ ìˆ˜ | ~200ê°œ (ì „ì„¸ê³„ ISO3) | 10ê°œêµ­ |
| ë°ì´í„° ê°±ì‹  | ìŠ¤ëƒ…ìƒ· ê¸°ë°˜ ìë™í™” | ìˆ˜ë™ ì—…ë°ì´íŠ¸ ë¶ˆê°€ |
| ì—°ë„ë³„ ë°ì´í„° | year íŒŒë¼ë¯¸í„° ì§€ì› | ë‹¨ì¼ ì‹œì  |
| HSì½”ë“œë³„ ë¬´ì—­ì•¡ | DS-01ì—ì„œ HS6ë³„ ì¡°íšŒ | ë¯¸ì§€ì› |
| ê±°ë¦¬/ì¸ì ‘/ì–¸ì–´ | DS-03ì—ì„œ ëª¨ë“  êµ­ê°€ìŒ | í•œêµ­ ê¸°ì¤€ë§Œ |

---

### 2.2 ì ìˆ˜ ì‚°ì • ë¡œì§ (ğŸŸ  Major Gap)

#### ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­ (5.4)
```
score = 100 Ã— (
  w1(0.40) Ã— norm_trade_value
+ w2(0.25) Ã— norm_partner_gdp
+ w3(0.10) Ã— norm_partner_gdp_growth
- w4(0.20) Ã— norm_distance
+ w5(0.03) Ã— contig_flag
+ w6(0.02) Ã— common_language_flag
)

í‘œì¤€í™”: log(1+x) í›„ min-max
ê°€ì¤‘ì¹˜ í•©ê³„: 1.00 (ê³ ì •)
```

#### í˜„ì¬ êµ¬í˜„ (`calculate_gravity_score`)
```python
# ì¤‘ë ¥ëª¨í˜• ê°€ì¤‘ì¹˜ (ë‹¤ë¦„)
gdp_weight = 0.30        # ê³„ì•½ì„œ: 0.25
distance_weight = 0.25   # ê³„ì•½ì„œ: 0.20
fta_weight = 0.20        # ê³„ì•½ì„œ: ì—†ìŒ
lpi_weight = 0.15        # ê³„ì•½ì„œ: ì—†ìŒ
tariff_weight = 0.05     # ê³„ì•½ì„œ: ì—†ìŒ
culture_weight = 0.05    # ê³„ì•½ì„œ: 0.02(ì–¸ì–´)

# ì¶”ê°€ë¡œ XGBoost ëª¨ë¸ ì‚¬ìš©
predicted_value = gravity_score * multiplier * gdp_bonus * fta_bonus
```

#### GAP ìƒì„¸
| í•­ëª© | ê³„ì•½ì„œ | í˜„ì¬ |
|------|--------|------|
| í”¼ì²˜ ìˆ˜ | 6ê°œ (ê³ ì •) | 6ê°œ (ë‹¤ë¥¸ êµ¬ì„±) |
| trade_value ì‚¬ìš© | í•µì‹¬ (w1=0.40) | âŒ ì—†ìŒ |
| gdp_growth ì‚¬ìš© | í¬í•¨ (w3=0.10) | âŒ ì—†ìŒ |
| contig(ì¸ì ‘) ì‚¬ìš© | í¬í•¨ (w5=0.03) | âŒ ì—†ìŒ |
| FTA ì‚¬ìš© | âŒ ì—†ìŒ | í¬í•¨ (0.20) |
| LPI ì‚¬ìš© | âŒ ì—†ìŒ | í¬í•¨ (0.15) |
| ê´€ì„¸ ì‚¬ìš© | âŒ ì—†ìŒ | í¬í•¨ (0.05) |
| ì •ë ¬ ê¸°ì¤€ | score ë‚´ë¦¼ì°¨ìˆœ | predicted_export ë‚´ë¦¼ì°¨ìˆœ |

---

### 2.3 API ìŠ¤í‚¤ë§ˆ (ğŸŸ  Major Gap)

#### ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­ - `/predict` Request
```json
{
  "hs_code": "330499",           // 6ìë¦¬
  "exporter_country_iso3": "KOR",
  "top_n": 10,
  "year": 2023,
  "filters": {
    "exclude_countries_iso3": ["PRK"],
    "min_trade_value_usd": 0
  }
}
```

#### í˜„ì¬ êµ¬í˜„ - `/predict` Request
```python
class PredictionRequest(BaseModel):
    hs_code: str             # 2ìë¦¬ ì¹´í…Œê³ ë¦¬
    exporter_country: str    # ê¸°ë³¸ê°’ "KOR"
    top_n: int               # 1-20
    # year ì—†ìŒ
    # filters ì—†ìŒ
```

#### GAP ìƒì„¸ - Request
| í•„ë“œ | ê³„ì•½ì„œ | í˜„ì¬ |
|------|--------|------|
| hs_code í˜•ì‹ | 6ìë¦¬ | 2ìë¦¬ |
| year | âœ… í•„ìˆ˜ | âŒ ì—†ìŒ |
| filters | âœ… í¬í•¨ | âŒ ì—†ìŒ |
| exclude_countries | âœ… í¬í•¨ | âŒ ì—†ìŒ |
| min_trade_value | âœ… í¬í•¨ | âŒ ì—†ìŒ |

#### ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­ - `/predict` Response
```json
{
  "request_id": "uuid",
  "status": "ok",
  "timestamp": "2026-01-28T10:00:00+09:00",
  "data": {
    "input": {...},
    "results": [{
      "rank": 1,
      "partner_country_iso3": "USA",
      "score": 87.2,
      "score_components": {
        "trade_potential": 52.0,
        "market_size": 20.1,
        "distance_penalty": -8.4
      },
      "explanation": {
        "top_factors": [...],
        "filters_applied": [],
        "data_quality": {...}
      }
    }]
  }
}
```

#### í˜„ì¬ êµ¬í˜„ - `/predict` Response
```json
{
  "top_countries": [{
    "country": "ë² íŠ¸ë‚¨",
    "country_code": "VNM",
    "predicted_export": 12500000.0,
    "gravity_score": 72.5,
    "factors": {
      "gdp_score": 14.64,
      "distance_score": 98.0
    }
  }],
  "explanation": {
    "primary_factors": ["distance_score", "fta_score"],
    "insights": ["FTA ì²´ê²° êµ­ê°€ê°€ ë†’ì€ ìˆœìœ„"]
  },
  "cached": false,
  "processing_time": 0.024
}
```

#### GAP ìƒì„¸ - Response
| í•„ë“œ | ê³„ì•½ì„œ | í˜„ì¬ |
|------|--------|------|
| request_id | âœ… í•„ìˆ˜ | âŒ ì—†ìŒ |
| status/timestamp | âœ… ê³µí†µ í¬ë§· | âŒ ì—†ìŒ |
| input ì—ì½” | âœ… í¬í•¨ | âŒ ì—†ìŒ |
| score_components | âœ… ìˆ˜ì¹˜ ë¶„í•´ | factors (ë‹¤ë¥¸ í˜•ì‹) |
| data_quality | âœ… í•„ìˆ˜ | âŒ ì—†ìŒ |
| filters_applied | âœ… í•„ìˆ˜ | âŒ ì—†ìŒ |

---

### 2.4 í•„í„°ë§ ë¡œì§ (ğŸŸ¡ Moderate Gap)

#### ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­ (5.3)
```
Hard Filter:
- exporter_country_iso3 == partner_country_iso3 â†’ ì œì™¸
- exclude_countries_iso3 í¬í•¨ êµ­ê°€ â†’ ì œì™¸
- DS-03 ê±°ë¦¬ ë ˆì½”ë“œ ë¶€ì¬ â†’ ì œì™¸

Soft Score:
- contig=1 â†’ ê°€ì  (w5=0.03)
- ê±°ë¦¬ â†’ ê°ì  (w4=0.20)
```

#### í˜„ì¬ êµ¬í˜„
```python
# ì œì¬êµ­ í•„í„°ë§ (RULES_SPEC.md)
BLOCKED_COUNTRIES = ["KP", "IR", "SY", "CU"]
RESTRICTED_COUNTRIES = ["RU", "BY"]

# Hard Filter
- BLOCKED êµ­ê°€ â†’ ì¦‰ì‹œ ì œì™¸
- RESTRICTED êµ­ê°€ â†’ í¬í•¨í•˜ë˜ -10ì  ê°ì 
```

#### GAP ìƒì„¸
| í•­ëª© | ê³„ì•½ì„œ | í˜„ì¬ |
|------|--------|------|
| ìê¸°êµ­ê°€ ì œì™¸ | âœ… ëª…ì‹œ | âš ï¸ ì•”ë¬µì  |
| ì‚¬ìš©ì ì œì™¸ | âœ… exclude_countries | âŒ ì—†ìŒ |
| ë°ì´í„° ë¶€ì¬ ì œì™¸ | âœ… DS-03 ê¸°ë°˜ | âŒ ì—†ìŒ |
| ì œì¬êµ­ ì œì™¸ | âŒ ì—†ìŒ | âœ… êµ¬í˜„ |
| ì¸ì ‘ ê°€ì  | âœ… contig | âŒ ì—†ìŒ |
| FTA ê°€ì  | âŒ ì—†ìŒ | âœ… êµ¬í˜„ |

---

### 2.5 ì„¤ëª…ê°€ëŠ¥ì„± (ğŸŸ¡ Moderate Gap)

#### ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­ (8ì¥)
```json
{
  "explanation": {
    "top_factors": [
      {"factor": "partner_gdp_usd", "direction": "positive"},
      {"factor": "historical_trade_value_usd", "direction": "positive"},
      {"factor": "distwces_km", "direction": "negative"}
    ],
    "filters_applied": [],
    "data_quality": {
      "missing_fields": [],
      "warnings": []
    }
  }
}
```

#### í˜„ì¬ êµ¬í˜„
```json
{
  "explanation": {
    "primary_factors": ["distance_score", "fta_score", "culture_score"],
    "insights": [
      "FTA ì²´ê²° êµ­ê°€ê°€ ë†’ì€ ìˆœìœ„ë¥¼ ì°¨ì§€",
      "ì§€ë¦¬ì  ê·¼ì ‘ì„±ì´ ì¤‘ìš”í•œ ìš”ì†Œ"
    ]
  }
}
```

#### GAP ìƒì„¸
| í•­ëª© | ê³„ì•½ì„œ | í˜„ì¬ |
|------|--------|------|
| factor + direction | âœ… êµ¬ì¡°í™” | factorsë§Œ |
| data_quality | âœ… í•„ìˆ˜ | âŒ ì—†ìŒ |
| missing_fields | âœ… í•„ìˆ˜ | âŒ ì—†ìŒ |
| warnings | âœ… í•„ìˆ˜ | âŒ ì—†ìŒ |
| insights | âŒ ì—†ìŒ | âœ… ìë™ìƒì„± |

---

### 2.6 ì—ëŸ¬ ì²˜ë¦¬ (ğŸŸ¡ Moderate Gap)

#### ê³„ì•½ì„œ ìš”êµ¬ì‚¬í•­ (9ì¥)
```json
{
  "request_id": "uuid",
  "status": "error",
  "timestamp": "...",
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "hs_code must be 6 digits",
    "details": {
      "field": "hs_code",
      "reason": "INVALID_FORMAT"
    }
  }
}
```

#### í˜„ì¬ êµ¬í˜„
```python
# FastAPI ê¸°ë³¸ ì—ëŸ¬
HTTPException(status_code=422, detail="Invalid input")
```

#### ì—ëŸ¬ ì½”ë“œ ë§¤í•‘ GAP
| HTTP ì½”ë“œ | ê³„ì•½ì„œ ì—ëŸ¬ ì½”ë“œ | í˜„ì¬ |
|-----------|-----------------|------|
| 401 | Unauthorized | âŒ ë¯¸ì ìš© |
| 422 | VALIDATION_ERROR | âš ï¸ ê¸°ë³¸ í˜•ì‹ |
| 422 | DATA_NOT_READY | âŒ ì—†ìŒ |
| 503 | EXTERNAL_SOURCE_FAILURE | âŒ ì—†ìŒ |

---

### 2.7 ì„±ëŠ¥/ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ (ğŸŸ¢ Aligned)

| í•­ëª© | ê³„ì•½ì„œ | í˜„ì¬ | ìƒíƒœ |
|------|--------|------|------|
| /health P95 | < 200ms | ~13ms | âœ… ì¶©ì¡± |
| /predict P95 | < 3s | ~24ms (ìºì‹œ) | âœ… ì¶©ì¡± |
| ë™ì‹œ ìš”ì²­ | 20 req/s | ì§€ì› | âœ… ì¶©ì¡± |
| ìºì‹œ | ê¶Œì¥ | Redis ê¸°ë°˜ | âœ… ì¶©ì¡± |
| ëª¨ë‹ˆí„°ë§ | ë¡œê¹… | Prometheus | âœ… ì´ˆê³¼ |

---

## 3. ê¸°ëŠ¥ë³„ êµ¬í˜„ í˜„í™© ë§¤íŠ¸ë¦­ìŠ¤

### 3.1 ê³„ì•½ì„œ ê¸°ëŠ¥ vs êµ¬í˜„ ìƒíƒœ

| ê³„ì•½ì„œ ê¸°ëŠ¥ | êµ¬í˜„ ìƒíƒœ | ë¹„ê³  |
|------------|----------|------|
| GET /health | âœ… ìˆìŒ | í˜•ì‹ ë‹¤ë¦„ |
| POST /predict | âœ… ìˆìŒ | ìŠ¤í‚¤ë§ˆ ë‹¤ë¦„ |
| request_id ì¶”ì  | âŒ ì—†ìŒ | ì¶”ê°€ í•„ìš” |
| year íŒŒë¼ë¯¸í„° | âŒ ì—†ìŒ | ì¶”ê°€ í•„ìš” |
| 6ìë¦¬ HSì½”ë“œ | âŒ ì—†ìŒ | í™•ì¥ í•„ìš” |
| exclude_countries | âŒ ì—†ìŒ | ì¶”ê°€ í•„ìš” |
| DS-01 ì—°ë™ | âŒ ì—†ìŒ | ì‹ ê·œ ê°œë°œ |
| DS-02 ì—°ë™ | âš ï¸ ë¶€ë¶„ | íŒŒì´í”„ë¼ì¸ë§Œ |
| DS-03 ì—°ë™ | âŒ ì—†ìŒ | ì‹ ê·œ ê°œë°œ |
| ê°€ì¤‘í•© ì ìˆ˜ | âŒ ì—†ìŒ | ë¡œì§ ë³€ê²½ |
| score_components | âš ï¸ ìœ ì‚¬ | í˜•ì‹ ë³€ê²½ |
| data_quality | âŒ ì—†ìŒ | ì¶”ê°€ í•„ìš” |
| ì—ëŸ¬ ì½”ë“œ ì²´ê³„ | âŒ ì—†ìŒ | ì¶”ê°€ í•„ìš” |
| ê²°ì¸¡ê°’ ì²˜ë¦¬ | âŒ ì—†ìŒ | ì¶”ê°€ í•„ìš” |
| ì´ìƒê°’ ì²˜ë¦¬ | âŒ ì—†ìŒ | ì¶”ê°€ í•„ìš” |

### 3.2 í˜„ì¬ë§Œ ìˆëŠ” ê¸°ëŠ¥ (ê³„ì•½ì„œì— ì—†ìŒ)

| í˜„ì¬ ê¸°ëŠ¥ | ê³„ì•½ì„œ ìƒíƒœ | ì²˜ë¦¬ ë°©ì•ˆ |
|----------|------------|----------|
| XGBoost ëª¨ë¸ | Out of Scope | 12ì¥ í™•ì¥ìœ¼ë¡œ ì´ê´€ |
| SHAP ì„¤ëª… | Out of Scope | v1ì€ ê°€ì¤‘í•©ìœ¼ë¡œ |
| GET /metrics | Out of Scope | ìœ ì§€ ê°€ëŠ¥ |
| GET /retrain | Out of Scope | v1 ì œì™¸ |
| ì œì¬êµ­ í•„í„° | ì¶”ê°€ ê³ ë ¤ | CRë¡œ í¬í•¨ ê²€í†  |
| LPI/ê´€ì„¸/ë¬¸í™” | Out of Scope | v1 ì œì™¸ |
| FTA ê°€ì  | Out of Scope | v1 ì œì™¸ |

---

## 4. ì‹¤í˜„ ê°€ëŠ¥ì„± ê²€ì¦

### 4.1 ë°ì´í„° ì†ŒìŠ¤ ì—°ë™ ê°€ëŠ¥ì„±

#### DS-01: UN Comtrade
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| API ê³µê°œ | âœ… ê°€ëŠ¥ | comtradeapi.un.org |
| ì¸ì¦ | API Key | ë¬´ë£Œ í‹°ì–´ ì¡´ì¬ |
| ë ˆì´íŠ¸ë¦¬ë°‹ | 1 req/sec | ìºì‹± í•„ìˆ˜ |
| ë°ì´í„° ë²”ìœ„ | 2023ë…„ê¹Œì§€ | ìµœì‹ ì„± 6~12ê°œì›” ì§€ì—° |
| HS6 ì§€ì› | âœ… ê°€ëŠ¥ | 6ìë¦¬ ì½”ë“œ ì¡°íšŒ |

**ë¦¬ìŠ¤í¬**: ë ˆì´íŠ¸ë¦¬ë°‹ â†’ ìŠ¤ëƒ…ìƒ· ê¸°ë°˜ ìš´ì˜ í•„ìˆ˜

#### DS-02: World Bank
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| API ê³µê°œ | âœ… ê°€ëŠ¥ | data.worldbank.org |
| ì¸ì¦ | ë¶ˆí•„ìš” | ë¬´ë£Œ |
| ë ˆì´íŠ¸ë¦¬ë°‹ | ê´€ëŒ€í•¨ | ëŒ€ëŸ‰ ì¡°íšŒ ê°€ëŠ¥ |
| ë°ì´í„° ë²”ìœ„ | 2024ë…„ | ìµœì‹ ì„± ì–‘í˜¸ |
| ì§€í‘œ ë²”ìœ„ | GDP, ì„±ì¥ë¥  ë“± | ë‹¤ì–‘í•œ ì§€í‘œ |

**ë¦¬ìŠ¤í¬**: ë‚®ìŒ (ì´ë¯¸ íŒŒì´í”„ë¼ì¸ ì¡´ì¬)

#### DS-03: CEPII GeoDist
| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ë°ì´í„° ê³µê°œ | âœ… ê°€ëŠ¥ | cepii.fr/CEPII |
| í˜•ì‹ | CSV ë‹¤ìš´ë¡œë“œ | API ì—†ìŒ |
| ë°ì´í„° ë²”ìœ„ | ê³ ì • (ì§€ë¦¬) | ê°±ì‹  ë“œë¬¾ |
| êµ­ê°€ìŒ | ~45,000ìŒ | ì „ì„¸ê³„ ì»¤ë²„ |

**ë¦¬ìŠ¤í¬**: ë‚®ìŒ (ì •ì  ë°ì´í„°, 1íšŒ ì ì¬ í›„ ìœ ì§€)

### 4.2 ì ìˆ˜ ë¡œì§ ì „í™˜ ê°€ëŠ¥ì„±

| í•­ëª© | ë‚œì´ë„ | ì´ìœ  |
|------|--------|------|
| ê°€ì¤‘í•© ì „í™˜ | ğŸŸ¢ ë‚®ìŒ | ì½”ë“œ ë‹¨ìˆœí™” |
| 6ê°œ í”¼ì²˜ ì¶”ì¶œ | ğŸŸ¡ ì¤‘ê°„ | DS-01~03 ì—°ë™ í•„ìš” |
| í‘œì¤€í™” (min-max) | ğŸŸ¢ ë‚®ìŒ | ê¸°ì¡´ ë¡œì§ í™œìš© |
| ë™ì  ì²˜ë¦¬ | ğŸŸ¢ ë‚®ìŒ | ì •ë ¬ ë¡œì§ë§Œ ì¶”ê°€ |

### 4.3 API ìŠ¤í‚¤ë§ˆ ì „í™˜ ê°€ëŠ¥ì„±

| í•­ëª© | ë‚œì´ë„ | ì´ìœ  |
|------|--------|------|
| request_id ì¶”ê°€ | ğŸŸ¢ ë‚®ìŒ | UUID ìƒì„±ë§Œ |
| ê³µí†µ ì‘ë‹µ í¬ë§· | ğŸŸ¡ ì¤‘ê°„ | Breaking change |
| year íŒŒë¼ë¯¸í„° | ğŸŸ¡ ì¤‘ê°„ | ë°ì´í„° ì¡°íšŒ ë¡œì§ ë³€ê²½ |
| filters ì¶”ê°€ | ğŸŸ¡ ì¤‘ê°„ | í•„í„° ì—”ì§„ êµ¬í˜„ |
| HS6 í™•ì¥ | ğŸŸ  ë†’ìŒ | DS-01 ì—°ë™ í•„ìˆ˜ |

### 4.4 ì¢…í•© ì‹¤í˜„ ê°€ëŠ¥ì„± í‰ê°€

| ì˜ì—­ | ì‹¤í˜„ ê°€ëŠ¥ì„± | ì˜ˆìƒ ê³µìˆ˜ | ë¦¬ìŠ¤í¬ |
|------|------------|----------|--------|
| DS-01 ì—°ë™ | âœ… ê°€ëŠ¥ | 2~3ì£¼ | ë ˆì´íŠ¸ë¦¬ë°‹ |
| DS-02 ì—°ë™ | âœ… ê°€ëŠ¥ | 1ì£¼ | ë‚®ìŒ |
| DS-03 ì—°ë™ | âœ… ê°€ëŠ¥ | 1ì£¼ | ë‚®ìŒ |
| ì ìˆ˜ ë¡œì§ | âœ… ê°€ëŠ¥ | 1~2ì£¼ | íšŒê·€ í…ŒìŠ¤íŠ¸ |
| API ìŠ¤í‚¤ë§ˆ | âœ… ê°€ëŠ¥ | 2ì£¼ | Breaking change |
| ì—ëŸ¬ ì²˜ë¦¬ | âœ… ê°€ëŠ¥ | 1ì£¼ | ë‚®ìŒ |
| í…ŒìŠ¤íŠ¸ | âœ… ê°€ëŠ¥ | 2ì£¼ | ì‹œë‚˜ë¦¬ì˜¤ ì»¤ë²„ë¦¬ì§€ |

**ì´ ì˜ˆìƒ ê³µìˆ˜**: 10~14ì£¼ (2.5~3.5ê°œì›”)

---

## 5. ê¶Œì¥ ì „í™˜ ì „ëµ

### 5.1 Phase 1: ë°ì´í„° ì¸í”„ë¼ (4ì£¼)
1. DS-03 ì ì¬ (1ì£¼)
2. DS-02 íŒŒì´í”„ë¼ì¸ ì •ë¹„ (1ì£¼)
3. DS-01 ì—°ë™ + ìŠ¤ëƒ…ìƒ· êµ¬ì¡° (2ì£¼)

### 5.2 Phase 2: ì½”ì–´ ë¡œì§ (4ì£¼)
1. ê°€ì¤‘í•© ì ìˆ˜ ì—”ì§„ êµ¬í˜„ (1ì£¼)
2. í•„í„° ì—”ì§„ êµ¬í˜„ (1ì£¼)
3. explanation êµ¬ì¡° ë³€í™˜ (1ì£¼)
4. ì—ëŸ¬ ì²˜ë¦¬ ì²´ê³„ (1ì£¼)

### 5.3 Phase 3: API/í†µí•© (4ì£¼)
1. API ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜ (2ì£¼)
2. í†µí•© í…ŒìŠ¤íŠ¸ (1ì£¼)
3. ì„±ëŠ¥ íŠœë‹ + ë¬¸ì„œí™” (1ì£¼)

### 5.4 ë³‘í–‰ ìš´ì˜ ì „ëµ ê¶Œì¥
```
í˜„ì¬ API (/predict v4)  â†’ ìœ ì§€ (ê¸°ì¡´ í´ë¼ì´ì–¸íŠ¸)
ì‹ ê·œ API (/v1/predict)  â†’ ê³„ì•½ì„œ ì¤€ìˆ˜ ë²„ì „
```

---

## 6. ê²°ë¡ 

### 6.1 ì°¨ì´ì  ìš”ì•½
- **Critical Gap**: ë°ì´í„° ì†ŒìŠ¤ (í•˜ë“œì½”ë”© â†’ ì‹¤ì œ ê³µê°œ ë°ì´í„°)
- **Major Gap**: ì ìˆ˜ ë¡œì§, API ìŠ¤í‚¤ë§ˆ, HSì½”ë“œ ê¹Šì´
- **Moderate Gap**: ì„¤ëª…ê°€ëŠ¥ì„± êµ¬ì¡°, ì—ëŸ¬ ì²˜ë¦¬

### 6.2 ì‹¤í˜„ ê°€ëŠ¥ì„± ê²°ë¡ 
âœ… **ì‹¤í˜„ ê°€ëŠ¥í•¨**

- ëª¨ë“  ë°ì´í„° ì†ŒìŠ¤ëŠ” ê³µê°œ ë°ì´í„°ë¡œ ì ‘ê·¼ ê°€ëŠ¥
- ê¸°ì¡´ ì¸í”„ë¼(FastAPI, Redis, Prometheus)ë¥¼ í™œìš© ê°€ëŠ¥
- ì½”ë“œ ìˆ˜ì • ë²”ìœ„ê°€ ëª…í™•í•˜ê³  ë‹¨ê³„ë³„ ì „í™˜ ê°€ëŠ¥

### 6.3 ì£¼ìš” ê³ ë ¤ì‚¬í•­
1. **Breaking Change**: ê¸°ì¡´ í´ë¼ì´ì–¸íŠ¸ ì˜í–¥ â†’ ë²„ì „ ë³‘í–‰ ê¶Œì¥
2. **ë°ì´í„° ê°±ì‹ **: ìŠ¤ëƒ…ìƒ· ìš´ì˜ ì •ì±… í™•ì • í•„ìš”
3. **ë ˆì´íŠ¸ë¦¬ë°‹**: UN Comtrade í˜¸ì¶œ ìµœì†Œí™” ì„¤ê³„
4. **í…ŒìŠ¤íŠ¸**: ê³„ì•½ì„œ 11ì¥ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ í…ŒìŠ¤íŠ¸ í•„ìˆ˜

---

## ë¶€ë¡: ë³€ê²½ í•„ìš” íŒŒì¼ ëª©ë¡

| íŒŒì¼ | ë³€ê²½ ìœ í˜• | ìš°ì„ ìˆœìœ„ |
|------|----------|----------|
| backend/api_v4_production.py | ìŠ¤í‚¤ë§ˆ ë³€ê²½ | P1 |
| backend/models/gravity_model.py | ë¡œì§ ëŒ€ì²´ | P1 |
| backend/models/xgboost_model.py | v1 ì œì™¸ (ìœ ì§€) | P3 |
| backend/data/ds01_comtrade.py | ì‹ ê·œ | P1 |
| backend/data/ds02_worldbank.py | ì •ë¹„ | P2 |
| backend/data/ds03_cepii.py | ì‹ ê·œ | P1 |
| backend/services/scorer.py | ì‹ ê·œ (ê°€ì¤‘í•©) | P1 |
| backend/services/filter_engine.py | ì‹ ê·œ | P1 |
| backend/services/explainer.py | ì‹ ê·œ | P2 |
| tests/test_contract_scenarios.py | ì‹ ê·œ | P1 |

---

*ë¬¸ì„œ ë*
